<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Elliptic Curve | ngntrgduc</title><meta name=keywords content="math"><meta name=description content="Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.
Định nghĩa Là 1 đường cong đại số có dạng $$y^2 = x^3 + ax + b$$ với $a, b$ là hằng số. Ví dụ: Tính chất Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là point at infinity): $P + O = O + P = P$ $P + (−P) = O$ $(P + Q) + R = P + (Q + R)$ $P + Q = Q + P$ Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng)."><meta name=author content><link rel=canonical href=https://ngntrgduc.github.io/posts/elliptic-curve/><link crossorigin=anonymous href=/assets/css/stylesheet.6036aedb4c363501b2c94cb09d7a88d801a8504ce31e0c896638ff83af6bf1fa.css integrity="sha256-YDau20w2NQGyyUywnXqI2AGoUEzjHgyJZjj/g69r8fo=" rel="preload stylesheet" as=style><link rel=icon href=https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})'></script><meta property="og:title" content="Elliptic Curve"><meta property="og:description" content="Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.
Định nghĩa Là 1 đường cong đại số có dạng $$y^2 = x^3 + ax + b$$ với $a, b$ là hằng số. Ví dụ: Tính chất Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là point at infinity): $P + O = O + P = P$ $P + (−P) = O$ $(P + Q) + R = P + (Q + R)$ $P + Q = Q + P$ Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng)."><meta property="og:type" content="article"><meta property="og:url" content="https://ngntrgduc.github.io/posts/elliptic-curve/"><meta property="og:image" content="https://ngntrgduc.github.io/static/pikachu.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-16T00:00:00+00:00"><meta property="og:site_name" content="ngntrgduc"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ngntrgduc.github.io/static/pikachu.jpg"><meta name=twitter:title content="Elliptic Curve"><meta name=twitter:description content="Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.
Định nghĩa Là 1 đường cong đại số có dạng $$y^2 = x^3 + ax + b$$ với $a, b$ là hằng số. Ví dụ: Tính chất Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là point at infinity): $P + O = O + P = P$ $P + (−P) = O$ $(P + Q) + R = P + (Q + R)$ $P + Q = Q + P$ Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ngntrgduc.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Elliptic Curve","item":"https://ngntrgduc.github.io/posts/elliptic-curve/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Elliptic Curve","name":"Elliptic Curve","description":"Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.\nĐịnh nghĩa Là 1 đường cong đại số có dạng $$y^2 = x^3 + ax + b$$ với $a, b$ là hằng số. Ví dụ: Tính chất Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là point at infinity): $P + O = O + P = P$ $P + (−P) = O$ $(P + Q) + R = P + (Q + R)$ $P + Q = Q + P$ Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng).","keywords":["math"],"articleBody":"Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.\nĐịnh nghĩa Là 1 đường cong đại số có dạng $$y^2 = x^3 + ax + b$$ với $a, b$ là hằng số. Ví dụ: Tính chất Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là point at infinity): $P + O = O + P = P$ $P + (−P) = O$ $(P + Q) + R = P + (Q + R)$ $P + Q = Q + P$ Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng). Ví dụ: $P + P = 2P,\\ 2P + P = 3P$ $P + Q$: kẻ 1 đường thẳng nối $P$ và $Q$, đường thẳng này sẽ cắt đường cong elliptic tại 1 điểm, lấy đối xứng điểm đó qua trục tung $Ox$, gọi là $R$, ta được kết quả của phép tính $P+Q$. $P + P$: Lúc này thì $R = P + P = 2P$ (đường thẳng trở thành tiếp tuyến của $P$) Tổng của $3$ điểm thẳng hàng nằm trên đường cong bằng phần tử trung hoà $O$ (hình 1). Algebraic curve of genus one. (này liên quan tới Algebra mà mình chưa chơi món này nhiều @@). Elliptic Curve không phải là hình Ellipse. Ứng dụng Elliptic Curve Crytography (ECC) Linh tinh Trapdoor function: Asymmetric cryptography(Public key cryptography): Symmetric cryptography: Diffie–Hellman key exchange: Elliptic Curve ứng dụng rất nhiều vô mảng cryptography. Cụ thể, nó là một thuật toán thuộc loại public key cryptography, nó ngon hơn thuật toán RSA, nhưng ít được sử dụng hơn. Ngoài ra thì Bitcoin cũng sử dụng NIST curve secp256k1 với Elliptic Curve là $y^2 = x^3 + 7$. À và cả Proton Mail nữa (Curve25519).\nBạn có thể đọc thêm thesis này để biết thêm 1 số ứng dụng của Elliptic Curve vào cryptography (tại nhiều quá nên mình cũng ngộp).\nFermat’s Last Theorem Elliptic Curve còn có thể dùng để chứng minh định lý Fermat lớn (định lý không thể chứng minh được trong gần 4 thế kỉ): Không tồn tại các nghiệm nguyên dương $a, b, c$ thoả mãn $a^n + b^n = c^n$ với $n$ là một số nguyên lớn hơn $2$.\nVề cách chứng minh thì mời các bạn đọc cách chứng minh của Andrew Wiles chứ mình đọc cũng không hiểu.\nLenstra elliptic-curve factorization Là thuật toán phân tách thừa số nguyên tố nhanh thứ 3 theo Wiki.\nCó thể còn nhiều ứng dụng nữa mà mình không biết…\nReferences https://en.wikipedia.org/wiki/Elliptic_curve https://www.twilio.com/blog/what-is-public-key-cryptography https://cryptohack.org/courses/elliptic/bg/ https://cryptobook.nakov.com/asymmetric-key-ciphers/elliptic-curve-cryptography-ecc Understanding Cryptography: A Textbook for Students and Practitioners - Christof Paar, Jan Pelzl Nếu bạn muốn đau khổ tìm hiểu sâu về Elliptic Curve thì cuốn The Arithmetic of Elliptic Curves - Joseph H. Silverman dành cho bạn.\n","wordCount":"493","inLanguage":"en","datePublished":"2023-06-16T00:00:00Z","dateModified":"2023-06-16T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ngntrgduc.github.io/posts/elliptic-curve/"},"publisher":{"@type":"Organization","name":"ngntrgduc","logo":{"@type":"ImageObject","url":"https://ngntrgduc.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ngntrgduc.github.io/ accesskey=h title="ngntrgduc's space (Alt + H)"><img src=https://ngntrgduc.github.io/avatar.jpg alt aria-label=logo height=30>ngntrgduc's space</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ngntrgduc.github.io/about/ title=About><span>About</span></a></li><li><a href=https://ngntrgduc.github.io/now/ title=Now><span>Now</span></a></li><li><a href=https://ngntrgduc.github.io/publications/ title=Publications><span>Publications</span></a></li><li><a href=https://ngntrgduc.github.io/my-resume title=Resume><span>Resume</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://ngntrgduc.github.io/resources/ title=Resources><span>Resources</span></a></li><li><a href=https://ngntrgduc.github.io/archives/ title=Archive><span>📦</span></a></li><li><a href=https://ngntrgduc.github.io/tags/ title=Tags><span>🏷️</span></a></li><li><a href=https://ngntrgduc.github.io/search/ title="Search (Alt + /)" accesskey=/><span>🔎</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ngntrgduc.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://ngntrgduc.github.io/posts/>Posts</a></div><h1 class=post-title>Elliptic Curve</h1><div class=post-meta><span title='2023-06-16 00:00:00 +0000 UTC'>June 16, 2023</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#elliptic-curve-crytography-ecc>Elliptic Curve Crytography (ECC)</a><ul><li><a href=#linh-tinh>Linh tinh</a></li></ul></li><li><a href=#fermats-last-theorem>Fermat&rsquo;s Last Theorem</a></li><li><a href=#lenstra-elliptic-curve-factorization>Lenstra elliptic-curve factorization</a></li></ul></nav></div></details></div><div class=post-content><p>Một vài ghi chú của mình khi tìm hiểu về Elliptic Curve cũng như những thứ liên quan tới nó, và 1 vài thứ linh tinh khác.</p><h1 id=định-nghĩa>Định nghĩa<a hidden class=anchor aria-hidden=true href=#định-nghĩa>#</a></h1><p>Là 1 đường cong đại số có dạng
$$y^2 = x^3 + ax + b$$
với $a, b$ là hằng số.
Ví dụ:
<img loading=lazy src=https://upload.wikimedia.org/wikipedia/commons/d/d0/ECClines-3.svg#center alt></p><h1 id=tính-chất>Tính chất<a hidden class=anchor aria-hidden=true href=#tính-chất>#</a></h1><p><img loading=lazy src=https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/ECClines.svg/1020px-ECClines.svg.png alt></p><ul><li>Elliptic Curve là một nhóm Abel, với $O$ là phần tử trung hoà (hoặc có cái tên ngầu hơn là <strong>point at infinity</strong>):<ul><li>$P + O = O + P = P$</li><li>$P + (−P) = O$</li><li>$(P + Q) + R = P + (Q + R)$</li><li>$P + Q = Q + P$</li></ul></li><li>Elliptic Curve bao gồm phép cộng và phép nhân (bản chất là nhiều lần phép cộng). Ví dụ: $P + P = 2P,\ 2P + P = 3P$<ul><li>$P + Q$: kẻ 1 đường thẳng nối $P$ và $Q$, đường thẳng này sẽ cắt đường cong elliptic tại 1 điểm, lấy đối xứng điểm đó qua trục tung $Ox$, gọi là $R$, ta được kết quả của phép tính $P+Q$.</li><li>$P + P$: Lúc này thì $R = P + P = 2P$ (đường thẳng trở thành tiếp tuyến của $P$)</li></ul></li><li>Tổng của $3$ điểm thẳng hàng nằm trên đường cong bằng phần tử trung hoà $O$ (hình 1).</li><li>Algebraic curve of genus one. (này liên quan tới Algebra mà mình chưa chơi món này nhiều @@).</li><li>Elliptic Curve không phải là hình Ellipse.
<img loading=lazy src=https://prateekvjoshi.files.wordpress.com/2015/02/1-main1.png alt></li></ul><h1 id=ứng-dụng>Ứng dụng<a hidden class=anchor aria-hidden=true href=#ứng-dụng>#</a></h1><h2 id=elliptic-curve-crytography-ecc>Elliptic Curve Crytography (ECC)<a hidden class=anchor aria-hidden=true href=#elliptic-curve-crytography-ecc>#</a></h2><h3 id=linh-tinh>Linh tinh<a hidden class=anchor aria-hidden=true href=#linh-tinh>#</a></h3><ul><li><p><strong>Trapdoor function</strong>:
<img loading=lazy src=https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Trapdoor_permutation.svg/1200px-Trapdoor_permutation.svg.png alt></p></li><li><p><strong>Asymmetric cryptography(Public key cryptography)</strong>:
<img loading=lazy src=https://assets.cdn.prod.twilio.com/images/19DfiKodi3T25Xz7g9EDTyvF9di2SzvJ.width-1616.format-webp.webp alt></p></li><li><p><strong>Symmetric cryptography</strong>:
<img loading=lazy src=https://assets.cdn.prod.twilio.com/images/z9ws4Rp8VZHoHpnhlh9I3QhAqiIdQZg6aSOlCCu1e5S.format-webp.webp alt></p></li><li><p><strong>Diffie–Hellman key exchange</strong>:
<img loading=lazy src=https://assets.cdn.prod.twilio.com/images/XTdQOAm3k7Q0_kVHMJG-qDcqLFAgL9uR968MInDZZZW.format-webp.webp alt></p></li></ul><hr><p>Elliptic Curve ứng dụng rất nhiều vô mảng cryptography. Cụ thể, nó là một thuật toán thuộc loại public key cryptography, nó ngon hơn thuật toán <a href=https://en.wikipedia.org/wiki/RSA_(cryptosystem)>RSA</a>, nhưng ít được sử dụng hơn. Ngoài ra thì Bitcoin cũng sử dụng <a href=https://en.bitcoin.it/wiki/Secp256k1>NIST curve <code>secp256k1</code></a> với Elliptic Curve là $y^2 = x^3 + 7$. À và cả <a href=https://proton.me/mail>Proton Mail</a> nữa (Curve25519).</p><p>Bạn có thể đọc thêm <a href="https://bearworks.missouristate.edu/cgi/viewcontent.cgi?article=4697&amp;context=theses">thesis này</a> để biết thêm 1 số ứng dụng của Elliptic Curve vào cryptography (tại nhiều quá nên mình cũng ngộp).</p><h2 id=fermats-last-theorem>Fermat&rsquo;s Last Theorem<a hidden class=anchor aria-hidden=true href=#fermats-last-theorem>#</a></h2><p>Elliptic Curve còn có thể dùng để chứng minh định lý Fermat lớn (định lý không thể chứng minh được trong gần 4 thế kỉ): Không tồn tại các nghiệm nguyên dương $a, b, c$ thoả mãn $a^n + b^n = c^n$ với $n$ là một số nguyên lớn hơn $2$.</p><p>Về cách chứng minh thì mời các bạn đọc cách chứng minh của <a href=https://en.wikipedia.org/wiki/Wiles%27s_proof_of_Fermat%27s_Last_Theorem>Andrew Wiles</a> <del>chứ mình đọc cũng không hiểu</del>.</p><h2 id=lenstra-elliptic-curve-factorization>Lenstra elliptic-curve factorization<a hidden class=anchor aria-hidden=true href=#lenstra-elliptic-curve-factorization>#</a></h2><p>Là thuật toán phân tách thừa số nguyên tố nhanh thứ 3 theo <a href=https://en.wikipedia.org/wiki/Lenstra_elliptic-curve_factorization>Wiki</a>.</p><p>Có thể còn nhiều ứng dụng nữa mà mình không biết&mldr;</p><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><ul><li><a href=https://en.wikipedia.org/wiki/Elliptic_curve>https://en.wikipedia.org/wiki/Elliptic_curve</a></li><li><a href=https://www.twilio.com/blog/what-is-public-key-cryptography>https://www.twilio.com/blog/what-is-public-key-cryptography</a></li><li><a href=https://cryptohack.org/courses/elliptic/bg/>https://cryptohack.org/courses/elliptic/bg/</a></li><li><a href=https://cryptobook.nakov.com/asymmetric-key-ciphers/elliptic-curve-cryptography-ecc>https://cryptobook.nakov.com/asymmetric-key-ciphers/elliptic-curve-cryptography-ecc</a></li><li>Understanding Cryptography: A Textbook for Students and Practitioners - Christof Paar, Jan Pelzl</li></ul><p>Nếu bạn muốn <del>đau khổ</del> tìm hiểu sâu về Elliptic Curve thì cuốn The Arithmetic of Elliptic Curves - Joseph H. Silverman dành cho bạn.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ngntrgduc.github.io/tags/math/>math</a></li></ul><nav class=paginav><a class=prev href=https://ngntrgduc.github.io/posts/hello-hugo/><span class=title>« Prev</span><br><span>Chuyển nhà tới Hugo</span></a>
<a class=next href=https://ngntrgduc.github.io/posts/storytelling-with-data/><span class=title>Next »</span><br><span>Storytelling with Data notes</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://ngntrgduc.github.io/>ngntrgduc</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>